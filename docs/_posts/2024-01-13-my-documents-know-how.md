---
layout: post
page-category: note
title: ドキュメント作成時のノウハウをまとめてみる
description: ""
preview: ""
category: 情報技術
tags:
    - tips
    - markdown
date: 2024-01-13
lastmod: 2024-01-13
---

下記のようなドキュメントを作成する際のオレオレノウハウ集。

- README.md
- 作業ログ
- その他ドキュメント類 (設計仕様書、手順書、社内 Wiki など)

振り返りも兼ねてまとめていく。

<!-- omit in toc -->
## はじめに

- 各ノウハウの重要度を見出しの ★ で表しているよ。
    - ★★★ (3/3): ほぼ必ず盛り込む。
    - ★★ (2/3): 盛り込んでおくとより良い。
    - ★ (1/3): 趣味の範疇。
- これらのノウハウは必ずしも取り入れるべきというわけではないよ。
    - ルール化しすぎるとかえって更新しづらいドキュメントになってしまう。バランスのよいドキュメントを作ろう。
- 思いついたら追記していくよ。

<!-- omit in toc -->
## 目次

- [1. \[★★★\] 1年後の自分へ手紙を書く気持ちで作る](#1--1年後の自分へ手紙を書く気持ちで作る)
- [2. \[★★★\] 5W1H を盛り込む](#2--5w1h-を盛り込む)
- [3. \[★★★\] 実行ログや再現手順を残す](#3--実行ログや再現手順を残す)
- [4. ざくざくメモ](#4-ざくざくメモ)
    - [4.1. 重要度: ★★★](#41-重要度-)
    - [4.2. 重要度: ★★](#42-重要度-)
    - [4.3. 重要度: ★](#43-重要度-)
- [5. 参考文献](#5-参考文献)

## 1. [★★★] 1年後の自分へ手紙を書く気持ちで作る

いきなり概念的だけど、一番大事だなと思っている。

「どういう情報があったら 1年後の自分が助かるかな？」「以前残さなかったことを後悔した要素はないかな？」という感じで、常に 1年後の自分のことを考えながら書く。

「1年後の自分は他人」というのはよく言ったもので……。つまり、1年後の自分に優しいドキュメントを作れば、おのずと他人にも優しいドキュメントになる (はず) 。

1年後の自分へ手紙を書こう。

## 2. [★★★] 5W1H を盛り込む

5W1H ……つまり下記の情報を明記すると、安心して参照できるドキュメントになる。

- When (いつ)
- Where (どこで)
- Who (だれが)
- What (何を)
- Why (なぜ)
- How (どのように)

例えば [この記事]({% post_url 2023-12-11-docker-desktop-4-26-0-issue %}) の場合……。

- **When (いつ)**
    - ドキュメントの作成日
    - ドキュメントの更新日
    - 問題が発生したバージョンのリリース日
- **Where (どこで)**
    - 問題が発生した実行環境の情報
- **Who (だれが)**
    - ※省略。自分自身が遭遇したことが明確なため。
- **What (何を)**
    - 問題が発生したコマンド
- **Why (なぜ)**
    - 問題の原因
- **How (どのように)**
    - 問題が発生した際の実行ログ
    - 問題を解決した方法

……という感じ。

特に引継ぎ系の資料を作る際は全て盛り込められるようにしている。情報って古くなっていくからね……。

## 3. [★★★] 実行ログや再現手順を残す

特に前述のような不具合対処の記録や環境調査、README.md を作成する上で大事。

ここでも 5W1H を意識してログを残す。実行日時や調査に使用したコマンド、SQL など。

後から同じような調査をしようとしたときにも参照できてよい。

## 4. ざくざくメモ

他、ざっくらばんに覚え書き。綺麗にはまとめてないので読みづらいかも。

### 4.1. 重要度: ★★★

- **バージョン管理を行う**
    - Git 管理ができないドキュメント (.xlsx の設計書やマニュアル類など……) は、ファイル名へ `..._v1.0.0.xlsx` を付与する。
    - 次の「更新履歴を残す」と合わせて先祖返りを防止する。
    - Teams の共同編集機能など、常に最新版を運用するルールであればその限りでない。
- **更新履歴を残す**
    - ここも 5W1H で管理。
    - とはいえルール化はほどほどに。記載ルールが細かすぎると、更新が億劫になりかえって情報が古くなりやすいため。
    - 「バージョン番号」「更新日」「更新者」「更新内容」があれば十分かなー。
    - コード管理の場合、コミットコメントや `CHANGELOG` にて同様の内容を残す。
- **設定値は正式名称で記述する**
    - たとえば実装上で `SQL クエリアクティビティ` となっているのであれば、ドキュメント上も `SQL クエリアクティビティ` とする。`SQL` (略称) や `SQLクエリアクティビティ` (スペースをトリ) としない。
    - 正式名称で記述しておくと、ブラウザのページ内検索機能などを使用して指差し確認しながら安全に作業できる。新規参画者にも親切。
    - 文章が冗長になりやすいのがデメリット。回避策としてはやはり略称となる。
    - 略称を使用する場合は「用語の定義」がドキュメント冒頭に存在すると親切。
- **本番対応時は「リリース手順書」を作成する**
    - リリース作業やトラブル・リカバリ対応など。これらの作業前にはドキュメントを作成する。必ず副作業者とレビュー会を設け、認識やチェックポイントを揃えた上で対応に臨む。
    - なるべく粒度感は細かく作る。GUI ベースの作業ならクリックするボタンの正式名称や画面遷移後の状態を明記。CUI ベースなら実行するコマンドや期待する結果を明記。
    - 急なトラブル・リカバリ対応が発生し、リリース手順書が用意できない場合もある。このときはその場で対応項目をリスト化し、リストベースで実施していく。
    - 焦っているときほど「急がば回れ」を大事にする。
- **「参考文献」を記載する**
    - 「このドキュメントは何の情報によって裏付けがとられているか？」を明記する。
    - エビデンスや 1年後の自分に向けて。参照者のスキルアップにも繋がる (と思う) 。
    - 特に技術情報に関連したドキュメントを残すときは、公式リファレンスの情報を掲載する。
- **一次情報をあたる**
    - その辺の記事だけでなく、公式リファレンスなどの一次情報を確認した上で作業することを心掛ける。これを参考文献へ掲載する。
    - 一次情報が見つからなかったときや理解できなかった場合は「一次情報 > 書籍など体系化された情報 > 書籍執筆者の個人サイト > 企業の技術ブログ > その辺の人の記事 > 質問サイトの回答」 …… の順で降りていきながら調べる。もちろんケースバイケースだけど。そして最後には必ず一次情報へ立ち返る。
    - ググって一番目に出た記事の引数指定が間違っている……とかよくある (あった) 。
- **未確定情報はその旨を明記する**
    - 得にレビュー前の設計書ファイルやコードなど。引継ぎやレビュー時のコミュニケーションエラーを防止する。
    - 作成中であったり要確認な箇所は `TODO: ***` などのコメントや吹き出しを付与しておく。
    - 背景なども書いておけるとよいが、長くなりすぎないようにする。

### 4.2. 重要度: ★★

- **ドキュメント冒頭に概要を記載する**
    - 「このドキュメントの目的は何？」の情報。
    - ドキュメントは長くなりがちなので、アジェンダとして記載しておく。
    - 他作業者も利用しやすい。
- **要約をつける**
    - 前述の概要と似た役割を持つ。
    - ノウハウ共有用のドキュメント ([例]({% post_url 2023-11-25-make-markdown-table %})) で活きる。
- **目次をつける**
    - ドキュメントが長くなるときはつけておくと親切。自分自身も利用しやすい。
    - VS Code & マークダウンの場合、拡張機能 [Markdown All in One](https://marketplace.visualstudio.com/items?itemName=yzhang.markdown-all-in-one) を使用すると、見出し (h1, h2 ...) を元にした目次の自動生成・更新ができる。コマンドは次のとおり。
        - `> Markdown All in One: Create Table of Contents` : 目次の作成
        - `> Markdown All in One: Update Table of Contents` : 目次の更新
- **見出しへ章番号を付与する**
    - ドキュメントが長くなる場合、見出しへ章番号が付与されていると現在位置を把握しやすい。
    - こちらも前述の Markdown All in One で対応できる。神～～。
        - `> Markdown All in One: Add/Update section numbers` : 章番号の付与 / 更新
        - ちなみに `<!-- omit in toc -->` を見出しの前の行に付与すると、章番号の付与対象や目次の作成対象にしないことを指定できる。h1 (タイトル) や h3 ～ 4 (細かい説明) 以降など、構成上不要なものはこれを設定しておく。

            ```markdown
            <!-- omit in toc -->
            ## 目次
            ```

- **階層構造が深くなってきたら ファイル / ページ / シート の分割を検討する**
    - 特に社内 Wiki の場合が該当。`h4` ～ `h5` を使用し始めたら分割の合図。
    - ファイル分割の際は情報の階層構造を意識する。読んだ人が迷うような構成にしない。
    - ファイル分割の場合はファイルパスなどを明記する。「関連資料が存在する」旨を記載する。「そんなドキュメントあったの！？」を防止する。
    - 分割の結果、ファイルが多くなってきたら MOC (Map of Contents) の作成を検討する。各情報のリンクをまとめたページのこと。
        - [🌱MOCというものはどうやって作ったらいいのか - by goryugo - ナレッジスタック](https://knowledgestuck.substack.com/p/moc)
        - 社内 Wiki の場合、トップページがこの役割を兼ねられていると利用しやすい。

### 4.3. 重要度: ★

- **マークアップを適切に使用する**
    - 例えば「強調」は **ボールド** で表現する。`コードスパン` で強調を表現しない。
    - マークアップという仕組みを考えた人の意図を汲み取る。
- **ファイルパスや設定値は `コードスパン` で記述する**
    - 「説明用の文章」なのか「実際の設定値 / コード」なのかを明確にする。
    - パワーポイントなどではブラケット記号 `[...]` で表現する。
- **「EOF」または「以上」を末尾につける**
    - 特にクライアントへ納品するパワーポイント資料。「EOF」しか記載されていない1スライドを最後に挿入する。
    - ドキュメントのスコープが明確になる (気がする) 。
    - 「ここまで読めば大丈夫だよ。おつかれさまでした！」の意でも付けてる。

## 5. 参考文献

- [自己流の手順書フォーマットを公開してみた \| DevelopersIO](https://dev.classmethod.jp/articles/non-97-operation-manual/)
- [Excel ドキュメントを書く時の定石集 - Neo's World](https://neos21.net/tech/business-communication/excel-best-practices.html)
